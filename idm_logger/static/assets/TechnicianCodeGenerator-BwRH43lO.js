import{s as i}from"./index-CfUEBMLz.js";import{v as g,r as p,N as x,O as m,a as _,o as y,f as e,b as d,t as v,d as r,y as b}from"./index-ahQJ4VuN.js";const w={class:"flex flex-col gap-6"},k={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},C={class:"flex flex-col gap-4 col-span-2 md:col-span-1"},h={class:"p-4 bg-gray-700 rounded flex flex-col gap-1"},T={class:"flex items-center justify-between"},j={class:"text-3xl font-mono text-blue-400 font-bold tracking-widest"},z={class:"p-4 bg-gray-700 rounded flex flex-col gap-1"},B={class:"flex items-center justify-between"},I={class:"text-3xl font-mono text-green-400 font-bold tracking-widest"},N={class:"flex flex-col justify-center items-start gap-4"},S={__name:"TechnicianCodeGenerator",setup(V){const c=g(),t=p({level_1:"",level_2:""}),n=p(!1);let a=null;const o=async()=>{n.value=!0;try{const l=await b.get("/api/tools/technician-code?t="+Date.now());t.value=l.data}catch{c.add({severity:"error",summary:"Fehler",detail:"Technikercodes konnten nicht abgerufen werden",life:3e3})}finally{n.value=!1}};x(()=>{o(),a=setInterval(o,6e4)}),m(()=>{a&&clearInterval(a)});const u=l=>{l&&(navigator.clipboard.writeText(l),c.add({severity:"success",summary:"Kopiert",detail:"Code in die Zwischenablage kopiert",life:2e3}))};return(l,s)=>(y(),_("div",w,[s[5]||(s[5]=e("div",{class:"p-4 border border-yellow-500/50 rounded bg-yellow-500/10"},[e("div",{class:"flex items-center gap-2 font-bold mb-2 text-yellow-400"},[e("i",{class:"pi pi-exclamation-triangle"}),e("span",null,"Warnung")]),e("p",{class:"text-sm text-gray-200"}," Verwende diese Codes nur, wenn du weißt, was du tust! Änderungen im Technikermenü können deine Wärmepumpe beschädigen. ")],-1)),e("div",k,[e("div",C,[e("div",h,[s[2]||(s[2]=e("span",{class:"text-gray-400 text-sm"},"Level 1 Code (4-stellig)",-1)),e("div",T,[e("span",j,v(t.value.level_1||"----"),1),d(r(i),{icon:"pi pi-copy",text:"",rounded:"",size:"small",onClick:s[0]||(s[0]=f=>u(t.value.level_1)),disabled:!t.value.level_1},null,8,["disabled"])])]),e("div",z,[s[3]||(s[3]=e("span",{class:"text-gray-400 text-sm"},"Level 2 Code (5-stellig)",-1)),e("div",B,[e("span",I,v(t.value.level_2||"-----"),1),d(r(i),{icon:"pi pi-copy",text:"",rounded:"",size:"small",onClick:s[1]||(s[1]=f=>u(t.value.level_2)),disabled:!t.value.level_2},null,8,["disabled"])])])]),e("div",N,[d(r(i),{label:"Codes aktualisieren",icon:"pi pi-refresh",onClick:o,loading:n.value},null,8,["loading"]),s[4]||(s[4]=e("p",{class:"text-xs text-gray-400"}," Codes werden basierend auf der aktuellen Serverzeit generiert. ",-1))])])]))}};export{S as _};

import{s as b}from"./index-Bc9GuCu6.js";import{s as c}from"./index-DFFesD_m.js";import{v as w,r as v,K as h,L as k,a as x,o as g,f as e,b as i,t as p,d as n,j as u,y as C,w as m}from"./index-B8fhaA6M.js";const T={class:"flex flex-col gap-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},L={class:"flex flex-col gap-4 col-span-2 md:col-span-1"},j={class:"p-4 bg-gray-700 rounded flex flex-col gap-1"},z={class:"flex items-center justify-between"},V={class:"text-3xl font-mono text-blue-400 font-bold tracking-widest"},B={class:"p-4 bg-gray-700 rounded flex flex-col gap-1"},I={class:"flex items-center justify-between"},K={class:"text-3xl font-mono text-green-400 font-bold tracking-widest"},N={class:"flex flex-col justify-center items-start gap-4"},S={class:"flex flex-col gap-1 text-xs text-gray-400"},W={__name:"TechnicianCodeGenerator",setup(y){const o=w(),s=v({level_1:"",level_2:"",server_time:""}),a=v(!1);let r=null;const d=async()=>{a.value=!0;try{const l=await C.get("/api/tools/technician-code?t="+Date.now());s.value=l.data,o.add({severity:"success",summary:"Aktualisiert",detail:"Codes erfolgreich aktualisiert",life:2e3})}catch{o.add({severity:"error",summary:"Fehler",detail:"Technikercodes konnten nicht abgerufen werden",life:3e3})}finally{a.value=!1}};h(()=>{d(),r=setInterval(d,6e4)}),k(()=>{r&&clearInterval(r)});const f=async l=>{if(l)try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(l);else{const t=document.createElement("textarea");t.value=l,t.style.position="fixed",t.style.left="-9999px",t.style.top="0",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}o.add({severity:"success",summary:"Kopiert",detail:"Code in die Zwischenablage kopiert",life:2e3})}catch{o.add({severity:"error",summary:"Fehler",detail:"Konnte nicht kopiert werden",life:2e3})}};return(l,t)=>(g(),x("div",T,[t[6]||(t[6]=e("div",{class:"p-4 border border-yellow-500/50 rounded bg-yellow-500/10"},[e("div",{class:"flex items-center gap-2 font-bold mb-2 text-yellow-400"},[e("i",{class:"pi pi-exclamation-triangle"}),e("span",null,"Warnung")]),e("p",{class:"text-sm text-gray-200"}," Verwende diese Codes nur, wenn du weißt, was du tust! Änderungen im Technikermenü können deine Wärmepumpe beschädigen. ")],-1)),e("div",$,[e("div",L,[e("div",j,[t[2]||(t[2]=e("span",{class:"text-gray-400 text-sm"},"Level 1 Code (4-stellig)",-1)),e("div",z,[e("span",V,p(s.value.level_1||"----"),1),i(n(c),{icon:"pi pi-copy",text:"",rounded:"",size:"small",onClick:t[0]||(t[0]=_=>f(s.value.level_1)),disabled:!s.value.level_1},null,8,["disabled"])])]),e("div",B,[t[3]||(t[3]=e("span",{class:"text-gray-400 text-sm"},"Level 2 Code (5-stellig)",-1)),e("div",I,[e("span",K,p(s.value.level_2||"-----"),1),i(n(c),{icon:"pi pi-copy",text:"",rounded:"",size:"small",onClick:t[1]||(t[1]=_=>f(s.value.level_2)),disabled:!s.value.level_2},null,8,["disabled"])])])]),e("div",N,[i(n(c),{label:"Codes aktualisieren",icon:"pi pi-refresh",onClick:d,loading:a.value},null,8,["loading"]),e("div",S,[e("p",null,[t[4]||(t[4]=e("span",{class:"font-bold"},"Serverzeit:",-1)),u(" "+p(s.value.server_time||"--:--:--"),1)]),t[5]||(t[5]=e("p",null,[u(" Level 1 Code ändert sich täglich."),e("br"),u(" Level 2 Code ändert sich stündlich. ")],-1))])])])]))}},A={class:"flex flex-col gap-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},M={__name:"Tools",setup(y){return(o,s)=>(g(),x("div",A,[s[1]||(s[1]=e("h1",{class:"text-2xl font-bold mb-4"},"Werkzeuge",-1)),e("div",D,[i(n(b),{class:"bg-gray-800 text-white"},{title:m(()=>[...s[0]||(s[0]=[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-key text-yellow-400"}),e("span",null,"Technikercode Generator")],-1)])]),content:m(()=>[i(W)]),_:1})])]))}};export{M as default};
